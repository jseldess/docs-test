"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8997],{5009:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>i,contentTitle:()=>c,default:()=>l,frontMatter:()=>a,metadata:()=>d,toc:()=>o});var n=r(5893),t=r(1151);const a={title:"Upserting sparse-dense vectors",category:"6495c32609a24b00434e5b53"},c=void 0,d={id:"data/hybrid-search-and-sparse-vectors/upsert-sparse-dense-vectors",title:"Upserting sparse-dense vectors",description:"Overview",source:"@site/versioned_docs/version-legacy/data/hybrid-search-and-sparse-vectors/upsert-sparse-dense-vectors.md",sourceDirName:"data/hybrid-search-and-sparse-vectors",slug:"/data/hybrid-search-and-sparse-vectors/upsert-sparse-dense-vectors",permalink:"/docs/legacy/data/hybrid-search-and-sparse-vectors/upsert-sparse-dense-vectors",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/versioned_docs/version-legacy/data/hybrid-search-and-sparse-vectors/upsert-sparse-dense-vectors.md",tags:[],version:"legacy",frontMatter:{title:"Upserting sparse-dense vectors",category:"6495c32609a24b00434e5b53"},sidebar:"examplesSidebar",previous:{title:"Sparse-dense vectors",permalink:"/docs/legacy/data/hybrid-search-and-sparse-vectors/sparse-dense-vectors"},next:{title:"Hybrid search and sparse vectors",permalink:"/docs/legacy/data/hybrid-search-and-sparse-vectors"}},i={},o=[{value:"Overview",id:"overview",level:2},{value:"Upserting records with sparse-dense values",id:"upserting-records-with-sparse-dense-values",level:2},{value:"Next steps",id:"next-steps",level:2}];function p(e){const s={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,n.jsxs)(s.p,{children:["Pinecone supports vectors with sparse and dense values, called ",(0,n.jsx)(s.a,{href:"sparse-dense-vectors",children:"sparse-dense vectors"}),", which allows you to perform ",(0,n.jsx)(s.a,{href:"hybrid-search",children:"hybrid search"}),". This topic describes how to upsert sparse-dense vectors."]}),"\n",(0,n.jsx)(s.h2,{id:"upserting-records-with-sparse-dense-values",children:"Upserting records with sparse-dense values"}),"\n",(0,n.jsxs)(s.p,{children:["You can upsert these values inside a vector parameter to ",(0,n.jsx)(s.a,{href:"insert-data#upserting-vectors-with-sparse-values",children:"upsert a sparse-dense record"}),"."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Examples"})}),"\n",(0,n.jsx)(s.p,{children:"The following example upserts two vectors with sparse and dense values."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-python",children:"index = pinecone.Index('example-index') \n\nupsert_response = index.upsert(\n    vectors=[\n        {'id': 'vec1',\n         'values': [0.1, 0.2, 0.3],\n         'metadata': {'genre': 'drama'},\n         'sparse_values': {\n             'indices': [10, 45, 16],\n             'values': [0.5, 0.5, 0.2]\n         }},\n        {'id': 'vec2',\n         'values': [0.2, 0.3, 0.4],\n         'metadata': {'genre': 'action'},\n         'sparse_values': {\n             # Indices have type uint32 \n             'indices': [15, 40, 11],\n             # Values have type float32\n             'values': [0.4, 0.5, 0.2]\n         }}\n    ]\n)\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Pinecone only supports upserting sparse-dense vectors to ",(0,n.jsx)(s.code,{children:"p1"})," and ",(0,n.jsx)(s.code,{children:"s1"})," indexes. Only indexes using the ",(0,n.jsx)(s.code,{children:"dotproduct"})," ",(0,n.jsx)(s.a,{href:"indexes#distance-metrics",children:"distance metric"})," support querying sparse vectors."]}),"\n",(0,n.jsx)(s.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"query-sparse-dense-vectors",children:"Querying sparse-dense vectors"})}),"\n"]})]})}function l(e={}){const{wrapper:s}={...(0,t.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},1151:(e,s,r)=>{r.d(s,{Z:()=>d,a:()=>c});var n=r(7294);const t={},a=n.createContext(t);function c(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);